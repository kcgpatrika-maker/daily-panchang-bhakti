<script src="data.js"></script>

<script>
const aliasMap = {
  shiv: "‡§∂‡§ø‡§µ",
  shiva: "‡§∂‡§ø‡§µ",
  mahadev: "‡§∂‡§ø‡§µ",

  hanuman: "‡§π‡§®‡•Å‡§Æ‡§æ‡§®",
  bajrang: "‡§π‡§®‡•Å‡§Æ‡§æ‡§®",

  diwali: "‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä",
  deepavali: "‡§¶‡•Ä‡§™‡§æ‡§µ‡§≤‡•Ä"
};

function ask() {
  let input = document.getElementById("query").value.trim().toLowerCase();
  const box = document.getElementById("result");
  box.innerHTML = "";

  if (!input) return;

  if (aliasMap[input]) {
    input = aliasMap[input];
  }

  const found = bhaktiData.find(item =>
    item.name && item.name.includes(input)
  );

  if (found && found.contents) {
    found.contents.forEach(c => {
      const btn = document.createElement("button");
      btn.textContent = c.type + " : ‡§™‡•Ç‡§∞‡§æ ‡§™‡§¢‡§º‡•á‡§Ç";
      btn.onclick = () => openModal(
        found.name + " ‚Äì " + c.type,
        c.info
      );
      box.appendChild(btn);
    });
    return;
  }

  box.innerText = "üôè ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§∂‡•Ä‡§ò‡•ç‡§∞ ‡§ú‡•ã‡§°‡§º‡•Ä ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§";
}

function resetAsk() {
  document.getElementById("query").value = "";
  document.getElementById("result").innerHTML = "";
}

function openModal(title, body) {
  document.getElementById("modalTitle").innerText = title;
  document.getElementById("modalBody").innerText = body;
  document.getElementById("askModal").style.display = "block";
}

function closeModal() {
  document.getElementById("askModal").style.display = "none";
}
</script>
